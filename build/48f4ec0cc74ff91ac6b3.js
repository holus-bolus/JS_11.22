const display1El=document.querySelector(".display-1"),display2El=document.querySelector(".display-2"),tempResultEl=document.querySelector(".temp-result"),numbersEl=document.querySelectorAll(".number"),operationEl=document.querySelectorAll(".operation"),equalEl=document.querySelector(".equal"),clearAllEl=document.querySelector(".all-clear"),clearLastEl=document.querySelector(".last-entity-clear");let dis1Num="",dis2Num="",result=null,lastOperation="",haveDot=!1;function clearVar(e=""){dis1Num+=dis2Num+" "+e+" ",display1El.innerText=dis1Num,display2El.innerText="",dis2Num="",tempResultEl.innerText=result}function mathOperation(){"x"===lastOperation?result=parseFloat(result)*parseFloat(dis2Num):"+"===lastOperation?result=parseFloat(result)+parseFloat(dis2Num):"-"===lastOperation?result=parseFloat(result)-parseFloat(dis2Num):"/"===lastOperation?result=parseFloat(result)/parseFloat(dis2Num):"%"===lastOperation&&(result=parseFloat(result)%parseFloat(dis2Num))}function clickButtonEl(e){numbersEl.forEach((t=>{t.innerText===e&&t.click()}))}function clickOperation(e){operationEl.forEach((t=>{t.innerText===e&&t.click()}))}function clickEqual(){equalEl.click()}numbersEl.forEach((e=>{e.addEventListener("click",(e=>{if("."!==e.target.innerText||haveDot){if("."===e.target.innerText&&haveDot)return}else haveDot=!0;dis2Num+=e.target.innerText,display2El.innerText=dis2Num}))})),operationEl.forEach((e=>{e.addEventListener("click",(e=>{if(!dis2Num)return;haveDot=!1;const t=e.target.innerText;dis1Num&&dis2Num&&lastOperation?mathOperation():result=parseFloat(dis2Num),clearVar(t),lastOperation=t}))})),equalEl.addEventListener("click",(()=>{dis2Num&&dis1Num&&(haveDot=!1,mathOperation(),clearVar(),display2El.innerText=result,tempResultEl.innerText="",dis2Num=result,dis1Num="")})),clearAllEl.addEventListener("click",(()=>{dis1Num="",dis2Num="",display1El.innerText="",display2El.innerText="",result="",tempResultEl.innerText=""})),clearLastEl.addEventListener("click",(()=>{display2El.innerText="",dis2Num=""})),window.addEventListener("keydown",(e=>{"0"===e.key||"1"===e.key||"2"===e.key||"3"===e.key||"4"===e.key||"5"===e.key||"6"===e.key||"7"===e.key||"8"===e.key||"9"===e.key||"."===e.key?clickButtonEl(e.key):"+"===e.key||"-"===e.key||"/"===e.key||"%"===e.key?clickOperation(e.key):"*"===e.key?clickOperation("x"):"="===e.key&&clickEqual()}));